import{j as w}from"./jsx-runtime-u17CrQMm.js";import{c as Y}from"./compiler-runtime-DWiNezgD.js";import{$ as Te,a as Ne,w as ke,e as we}from"./use-resolve-button-type-Bih9nJmV.js";import{r as I,R as C}from"./iframe-XRykOgCy.js";import{r as W}from"./index-hh3hN7OQ.js";import{u as pe,A as oe,Y as R,y as Z,a as E,K as D,V as me,p as Ce,n as K,o as Re}from"./use-sync-refs-Bo2Xpa_i.js";import{A as De,b as Oe,F as Fe,y as Ae,R as Ve,T as Be,w as Le}from"./floating-CSJJAjNj.js";import{p as Ge,c as U,a as g,f as j,b as qe,L as je,S as H,s as He,F as Ke,d as Ue,u as Qe}from"./use-text-value-D1fNxpdz.js";import{y as ze}from"./use-inert-others-CXVwNTP7.js";import{T as Ye,b as le,x as fe,d as Ze,c as Je,S as N,k as We,u as ie,p as Xe,f as et,t as tt}from"./portal-e4QpGYSP.js";import{n as J,o as _,c as nt,d as rt}from"./keyboard-e8CRX24o.js";import{c as st,i as Q,u as at,N as ot,x as lt}from"./open-closed-CRhmYJjH.js";import{G as it,H as ut,I as dt,R as ct,T as ue,K as Ie}from"./focus-management-B5wdF1i0.js";import{H as pt}from"./description-DTxrjahs.js";import{V as ve,C as mt}from"./label-DMne1_zU.js";import{M as ft}from"./menu-info-item-CXs8IQBM.js";import{M as It}from"./menu-separator-B2BAWsFD.js";import{M as vt}from"./menu-title-mOSwHYdG.js";var gt=Object.defineProperty,yt=(e,t,n)=>t in e?gt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,de=(e,t,n)=>(yt(e,typeof t!="symbol"?t+"":t,n),n),M=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(M||{}),z=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(z||{}),u=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItems=5]="RegisterItems",e[e.UnregisterItems=6]="UnregisterItems",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e[e.SortItems=9]="SortItems",e[e.MarkButtonAsMoved=10]="MarkButtonAsMoved",e))(u||{});function ce(e,t=n=>n){let n=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,r=it(t(e.items.slice()),o=>o.dataRef.current.domRef.current),s=n?r.indexOf(n):null;return s===-1&&(s=null),{items:r,activeItemIndex:s}}let bt={1(e){if(e.menuState===1)return e;let t=e.buttonElement?U.Tracked(qe(e.buttonElement)):e.buttonPositionState;return{...e,activeItemIndex:null,pendingFocus:{focus:g.Nothing},menuState:1,buttonPositionState:t}},0(e,t){return e.menuState===0?e:{...e,__demoMode:!1,pendingFocus:t.focus,menuState:0,buttonPositionState:U.Idle}},2:(e,t)=>{var n,r,s,o,l;if(e.menuState===1)return e;let d={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===g.Nothing)return{...d,activeItemIndex:null};if(t.focus===g.Specific)return{...d,activeItemIndex:e.items.findIndex(a=>a.id===t.id)};if(t.focus===g.Previous){let a=e.activeItemIndex;if(a!==null){let P=e.items[a].dataRef.current.domRef,y=j(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});if(y!==null){let m=e.items[y].dataRef.current.domRef;if(((r=P.current)==null?void 0:r.previousElementSibling)===m.current||((s=m.current)==null?void 0:s.previousElementSibling)===null)return{...d,activeItemIndex:y}}}}else if(t.focus===g.Next){let a=e.activeItemIndex;if(a!==null){let P=e.items[a].dataRef.current.domRef,y=j(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});if(y!==null){let m=e.items[y].dataRef.current.domRef;if(((o=P.current)==null?void 0:o.nextElementSibling)===m.current||((l=m.current)==null?void 0:l.nextElementSibling)===null)return{...d,activeItemIndex:y}}}}let p=ce(e),v=j(t,{resolveItems:()=>p.items,resolveActiveIndex:()=>p.activeItemIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled});return{...d,...p,activeItemIndex:v}},3:(e,t)=>{let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),s=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(l=>{var d;return((d=l.dataRef.current.textValue)==null?void 0:d.startsWith(r))&&!l.dataRef.current.disabled}),o=s?e.items.indexOf(s):-1;return o===-1||o===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:o,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let n=e.items.concat(t.items.map(s=>s)),r=e.activeItemIndex;return e.pendingFocus.focus!==g.Nothing&&(r=j(e.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>e.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled})),{...e,items:n,activeItemIndex:r,pendingFocus:{focus:g.Nothing},pendingShouldSort:!0}},6:(e,t)=>{let n=e.items,r=[],s=new Set(t.items);for(let[o,l]of n.entries())if(s.has(l.id)&&(r.push(o),s.delete(l.id),s.size===0))break;if(r.length>0){n=n.slice();for(let o of r.reverse())n.splice(o,1)}return{...e,items:n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element},9:e=>e.pendingShouldSort?{...e,...ce(e),pendingShouldSort:!1}:e,10(e){return e.buttonPositionState.kind!=="Tracked"?e:{...e,buttonPositionState:U.Moved}}};class ne extends Ye{constructor(t){super(t),de(this,"actions",{registerItem:le(()=>{let n=[],r=new Set;return[(s,o)=>{r.has(o)||(r.add(o),n.push({id:s,dataRef:o}))},()=>(r.clear(),this.send({type:5,items:n.splice(0)}))]}),unregisterItem:le(()=>{let n=[];return[r=>n.push(r),()=>this.send({type:6,items:n.splice(0)})]})}),de(this,"selectors",{activeDescendantId(n){var r;let s=n.activeItemIndex,o=n.items;return s===null||(r=o[s])==null?void 0:r.id},isActive(n,r){var s;let o=n.activeItemIndex,l=n.items;return o!==null?((s=l[o])==null?void 0:s.id)===r:!1},shouldScrollIntoView(n,r){return n.__demoMode||n.menuState!==0||n.activationTrigger===0?!1:this.isActive(n,r)},didButtonMove(n){return n.buttonPositionState.kind==="Moved"}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,r=fe.get(null);this.disposables.add(r.on(Ze.Push,s=>{!r.selectors.isTop(s,n)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}this.disposables.group(n=>{this.on(1,r=>{r.buttonElement&&(n.dispose(),n.add(Ge(r.buttonElement,r.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:t,__demoMode:n=!1}){return new ne({id:t,__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:g.Nothing},buttonPositionState:U.Idle})}reduce(t,n){return pe(n.type,bt,t,n)}}const ge=I.createContext(null);function re(e){let t=I.useContext(ge);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ye),n}return t}function ye({id:e,__demoMode:t=!1}){let n=I.useMemo(()=>ne.new({id:e,__demoMode:t}),[]);return Je(()=>n.dispose()),n}let ht=I.Fragment;function _t(e,t){let n=I.useId(),{__demoMode:r=!1,...s}=e,o=ye({id:n,__demoMode:r}),[l,d,p]=N(o,S=>[S.menuState,S.itemsElement,S.buttonElement]),v=Z(t),a=fe.get(null),P=N(a,I.useCallback(S=>a.selectors.isTop(S,n),[a,n]));We(P,[p,d],(S,x)=>{var $;o.send({type:u.CloseMenu}),ut(x,dt.Loose)||(S.preventDefault(),($=o.state.buttonElement)==null||$.focus())});let y=E(()=>{o.send({type:u.CloseMenu})}),m=J({open:l===M.Open,close:y}),h={ref:v},T=D();return C.createElement(De,null,C.createElement(ge.Provider,{value:o},C.createElement(st,{value:pe(l,{[M.Open]:Q.Open,[M.Closed]:Q.Closed})},T({ourProps:h,theirProps:s,slot:m,defaultTag:ht,name:"Menu"}))))}let Mt="button";function St(e,t){let n=re("Menu.Button"),r=I.useId(),{id:s=`headlessui-menu-button-${r}`,disabled:o=!1,autoFocus:l=!1,...d}=e,p=I.useRef(null),v=Oe(),a=Z(t,p,Fe(),E(c=>n.send({type:u.SetButtonElement,element:c}))),P=E(c=>{switch(c.key){case _.Space:case _.Enter:case _.ArrowDown:c.preventDefault(),c.stopPropagation(),n.send({type:u.OpenMenu,focus:{focus:g.First}});break;case _.ArrowUp:c.preventDefault(),c.stopPropagation(),n.send({type:u.OpenMenu,focus:{focus:g.Last}});break}}),y=E(c=>{switch(c.key){case _.Space:c.preventDefault();break}}),[m,h,T]=N(n,c=>[c.menuState,c.buttonElement,c.itemsElement]),S=m===M.Open;je(S,{trigger:h,action:I.useCallback(c=>{if(h!=null&&h.contains(c.target))return H.Ignore;let f=c.target.closest('[role="menuitem"]:not([data-disabled])');return nt(f)?H.Select(f):T!=null&&T.contains(c.target)?H.Ignore:H.Close},[h,T]),close:I.useCallback(()=>n.send({type:u.CloseMenu}),[]),select:I.useCallback(c=>c.click(),[])});let x=He(c=>{var f;o||(m===M.Open?(W.flushSync(()=>n.send({type:u.CloseMenu})),(f=p.current)==null||f.focus({preventScroll:!0})):(c.preventDefault(),n.send({type:u.OpenMenu,focus:{focus:g.Nothing},trigger:z.Pointer})))}),{isFocusVisible:$,focusProps:O}=Te({autoFocus:l}),{isHovered:V,hoverProps:F}=Ne({isDisabled:o}),{pressed:k,pressProps:B}=ke({disabled:o}),A=J({open:m===M.Open,active:k||m===M.Open,disabled:o,hover:V,focus:$,autofocus:l}),L=me(v(),{ref:a,id:s,type:we(e,p.current),"aria-haspopup":"menu","aria-controls":T?.id,"aria-expanded":m===M.Open,disabled:o||void 0,autoFocus:l,onKeyDown:P,onKeyUp:y},x,O,F,B);return D()({ourProps:L,theirProps:d,slot:A,defaultTag:Mt,name:"Menu.Button"})}let xt="div",$t=oe.RenderStrategy|oe.Static;function Et(e,t){let n=I.useId(),{id:r=`headlessui-menu-items-${n}`,anchor:s,portal:o=!1,modal:l=!0,transition:d=!1,...p}=e,v=Ae(s),a=re("Menu.Items"),[P,y]=Ve(v),m=Be(),[h,T]=I.useState(null),S=Z(t,v?P:null,E(i=>a.send({type:u.SetItemsElement,element:i})),T),[x,$]=N(a,i=>[i.menuState,i.buttonElement]),O=ie($),V=ie(h);v&&(o=!0);let F=at(),[k,B]=ot(d,h,F!==null?(F&Q.Open)===Q.Open:x===M.Open);Xe(k,$,()=>{a.send({type:u.CloseMenu})});let A=N(a,i=>i.__demoMode),L=A?!1:l&&x===M.Open;et(L,V);let c=A?!1:l&&x===M.Open;ze(c,{allowed:I.useCallback(()=>[$,h],[$,h])});let f=N(a,a.selectors.didButtonMove)?!1:k;I.useEffect(()=>{let i=h;i&&x===M.Open&&(rt(i)||i.focus({preventScroll:!0}))},[x,h]),Ke(x===M.Open,{container:h,accept(i){return i.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:i.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(i){i.setAttribute("role","none")}});let G=Ce(),Me=E(i=>{var q,se,ae;switch(G.dispose(),i.key){case _.Space:if(a.state.searchQuery!=="")return i.preventDefault(),i.stopPropagation(),a.send({type:u.Search,value:i.key});case _.Enter:if(i.preventDefault(),i.stopPropagation(),a.state.activeItemIndex!==null){let{dataRef:Pe}=a.state.items[a.state.activeItemIndex];(se=(q=Pe.current)==null?void 0:q.domRef.current)==null||se.click()}a.send({type:u.CloseMenu}),Ie(a.state.buttonElement);break;case _.ArrowDown:return i.preventDefault(),i.stopPropagation(),a.send({type:u.GoToItem,focus:g.Next});case _.ArrowUp:return i.preventDefault(),i.stopPropagation(),a.send({type:u.GoToItem,focus:g.Previous});case _.Home:case _.PageUp:return i.preventDefault(),i.stopPropagation(),a.send({type:u.GoToItem,focus:g.First});case _.End:case _.PageDown:return i.preventDefault(),i.stopPropagation(),a.send({type:u.GoToItem,focus:g.Last});case _.Escape:i.preventDefault(),i.stopPropagation(),W.flushSync(()=>a.send({type:u.CloseMenu})),(ae=a.state.buttonElement)==null||ae.focus({preventScroll:!0});break;case _.Tab:i.preventDefault(),i.stopPropagation(),W.flushSync(()=>a.send({type:u.CloseMenu})),ct(a.state.buttonElement,i.shiftKey?ue.Previous:ue.Next);break;default:i.key.length===1&&(a.send({type:u.Search,value:i.key}),G.setTimeout(()=>a.send({type:u.ClearSearch}),350));break}}),Se=E(i=>{switch(i.key){case _.Space:i.preventDefault();break}}),xe=J({open:x===M.Open}),$e=me(v?m():{},{"aria-activedescendant":N(a,a.selectors.activeDescendantId),"aria-labelledby":N(a,i=>{var q;return(q=i.buttonElement)==null?void 0:q.id}),id:r,onKeyDown:Me,onKeyUp:Se,role:"menu",tabIndex:x===M.Open?0:void 0,ref:S,style:{...p.style,...y,"--button-width":Le(k,$,!0).width},...lt(B)}),Ee=D();return C.createElement(tt,{enabled:o?e.static||k:!1,ownerDocument:O},Ee({ourProps:$e,theirProps:p,slot:xe,defaultTag:xt,features:$t,visible:f,name:"Menu.Items"}))}let Pt=I.Fragment;function Tt(e,t){let n=I.useId(),{id:r=`headlessui-menu-item-${n}`,disabled:s=!1,...o}=e,l=re("Menu.Item"),d=N(l,f=>l.selectors.isActive(f,r)),p=I.useRef(null),v=Z(t,p),a=N(l,f=>l.selectors.shouldScrollIntoView(f,r));K(()=>{if(a)return Re().requestAnimationFrame(()=>{var f,G;(G=(f=p.current)==null?void 0:f.scrollIntoView)==null||G.call(f,{block:"nearest"})})},[a,p]);let P=Ue(p),y=I.useRef({disabled:s,domRef:p,get textValue(){return P()}});K(()=>{y.current.disabled=s},[y,s]),K(()=>(l.actions.registerItem(r,y),()=>l.actions.unregisterItem(r)),[y,r]);let m=E(()=>{l.send({type:u.CloseMenu})}),h=E(f=>{if(s)return f.preventDefault();l.send({type:u.CloseMenu}),Ie(l.state.buttonElement)}),T=E(()=>{if(s)return l.send({type:u.GoToItem,focus:g.Nothing});l.send({type:u.GoToItem,focus:g.Specific,id:r})}),S=Qe(),x=E(f=>S.update(f)),$=E(f=>{S.wasMoved(f)&&(s||d||l.send({type:u.GoToItem,focus:g.Specific,id:r,trigger:z.Pointer}))}),O=E(f=>{S.wasMoved(f)&&(s||d&&l.state.activationTrigger===z.Pointer&&l.send({type:u.GoToItem,focus:g.Nothing}))}),[V,F]=ve(),[k,B]=pt(),A=J({active:d,focus:d,disabled:s,close:m}),L={id:r,ref:v,role:"menuitem",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-labelledby":V,"aria-describedby":k,disabled:void 0,onClick:h,onFocus:T,onPointerEnter:x,onMouseEnter:x,onPointerMove:$,onMouseMove:$,onPointerLeave:O,onMouseLeave:O},c=D();return C.createElement(F,null,C.createElement(B,null,c({ourProps:L,theirProps:o,slot:A,defaultTag:Pt,name:"Menu.Item"})))}let Nt="div";function kt(e,t){let[n,r]=ve(),s=e,o={ref:t,"aria-labelledby":n,role:"group"},l=D();return C.createElement(r,null,l({ourProps:o,theirProps:s,slot:{},defaultTag:Nt,name:"Menu.Section"}))}let wt="header";function Ct(e,t){let n=I.useId(),{id:r=`headlessui-menu-heading-${n}`,...s}=e,o=mt();K(()=>o.register(r),[r,o.register]);let l={id:r,ref:t,role:"presentation",...o.props};return D()({ourProps:l,theirProps:s,slot:{},defaultTag:wt,name:"Menu.Heading"})}let Rt="div";function Dt(e,t){let n=e,r={ref:t,role:"separator"};return D()({ourProps:r,theirProps:n,slot:{},defaultTag:Rt,name:"Menu.Separator"})}let Ot=R(_t),be=R(St),he=R(Et),_e=R(Tt),Ft=R(kt),At=R(Ct),Vt=R(Dt),Bt=Object.assign(Ot,{Button:be,Items:he,Item:_e,Section:Ft,Heading:At,Separator:Vt});const X=e=>{const t=Y.c(3),{children:n,className:r}=e;let s;return t[0]!==n||t[1]!==r?(s=w.jsx(be,{as:"div",className:r,children:n}),t[0]=n,t[1]=r,t[2]=s):s=t[2],s};try{X.displayName="MenuButton",X.__docgenInfo={description:"",displayName:"MenuButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const ee=e=>{const t=Y.c(12),{children:n,LeftIcon:r,disabled:s,onClick:o}=e,l=s===void 0?!1:s;let d;t[0]!==r?(d=r?w.jsx(r,{className:"h-4 w-4 fill-neutral-600 group-disabled:fill-neutral-400"}):null,t[0]=r,t[1]=d):d=t[1];let p;t[2]!==n?(p=w.jsx("div",{className:"paragraph-200 text-neutral-800 group-disabled:text-neutral-400",children:n}),t[2]=n,t[3]=p):p=t[3];let v;t[4]!==l||t[5]!==o||t[6]!==d||t[7]!==p?(v=w.jsxs("button",{type:"button",className:"group bg-neutral-0 disabled:bg-neutral-0 relative flex w-full cursor-pointer items-center gap-4 px-4 py-2.5 hover:bg-neutral-100 data-focus:bg-neutral-200",disabled:l,onKeyDown:o,onClick:o,children:[d,p]}),t[4]=l,t[5]=o,t[6]=d,t[7]=p,t[8]=v):v=t[8];let a;return t[9]!==l||t[10]!==v?(a=w.jsx(_e,{disabled:l,children:v}),t[9]=l,t[10]=v,t[11]=a):a=t[11],a};try{ee.displayName="MenuItem",ee.__docgenInfo={description:"",displayName:"MenuItem",props:{LeftIcon:{defaultValue:null,description:"",name:"LeftIcon",required:!1,type:{name:"ElementType"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}}}}}catch{}const te=e=>{const t=Y.c(2),{children:n}=e;let r;return t[0]!==n?(r=w.jsx(he,{className:"bg-neutral-0 absolute right-0 z-10 mt-2 flex w-52 flex-col rounded-md py-2 shadow-md outline-hidden",children:n}),t[0]=n,t[1]=r):r=t[1],r};try{te.displayName="MenuItems",te.__docgenInfo={description:"",displayName:"MenuItems",props:{}}}catch{}const b=e=>{const t=Y.c(2),{children:n}=e;let r;return t[0]!==n?(r=w.jsx(Bt,{as:"div",className:"relative",children:n}),t[0]=n,t[1]=r):r=t[1],r};b.Button=X;b.Items=te;b.Title=vt;b.Item=ee;b.InfoItem=ft;b.Separator=It;try{b.displayName="Menu",b.__docgenInfo={description:"",displayName:"Menu",props:{}}}catch{}try{b.Button.displayName="Menu.Button",b.Button.__docgenInfo={description:"",displayName:"Menu.Button",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}try{b.Items.displayName="Menu.Items",b.Items.__docgenInfo={description:"",displayName:"Menu.Items",props:{}}}catch{}try{b.Title.displayName="Menu.Title",b.Title.__docgenInfo={description:"",displayName:"Menu.Title",props:{}}}catch{}try{b.Item.displayName="Menu.Item",b.Item.__docgenInfo={description:"",displayName:"Menu.Item",props:{LeftIcon:{defaultValue:null,description:"",name:"LeftIcon",required:!1,type:{name:"ElementType"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}}}}}catch{}try{b.InfoItem.displayName="Menu.InfoItem",b.InfoItem.__docgenInfo={description:"",displayName:"Menu.InfoItem",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},subtitle:{defaultValue:null,description:"",name:"subtitle",required:!0,type:{name:"string"}}}}}catch{}export{ee as M,b as a};
